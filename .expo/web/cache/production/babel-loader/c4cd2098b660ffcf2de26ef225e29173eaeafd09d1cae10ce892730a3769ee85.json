{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useEffect}from'react';import{useBlurhash}from\"../utils/blurhash/useBlurhash\";import{isBlurhashString}from\"../utils/resolveSources\";function ensureUnit(value){var trimmedValue=String(value).trim();if(trimmedValue.endsWith('%')){return trimmedValue;}return`${trimmedValue}px`;}function getObjectPositionFromContentPositionObject(contentPosition){var resolvedPosition=_objectSpread({},contentPosition);if(!resolvedPosition){return'50% 50%';}if(resolvedPosition.top==null&&resolvedPosition.bottom==null){resolvedPosition.top='50%';}if(resolvedPosition.left==null&&resolvedPosition.right==null){resolvedPosition.left='50%';}return['top','bottom','left','right'].map(function(key){if(key in resolvedPosition){return`${key} ${ensureUnit(resolvedPosition[key])}`;}return'';}).join(' ')||'50% 50%';}function getFetchPriorityFromImagePriority(){var priority=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'normal';return priority&&['low','high'].includes(priority)?priority:'auto';}var ImageWrapper=React.forwardRef(function(_ref,ref){var source=_ref.source,events=_ref.events,contentPosition=_ref.contentPosition,blurhashContentPosition=_ref.blurhashContentPosition,priority=_ref.priority,style=_ref.style,blurhashStyle=_ref.blurhashStyle,className=_ref.className;useEffect(function(){var _events$onMount;events==null?void 0:(_events$onMount=events.onMount)==null?void 0:_events$onMount.forEach(function(e){return e==null?void 0:e();});},[]);var isBlurhash=isBlurhashString((source==null?void 0:source.uri)||'');var blurhashUri=useBlurhash(isBlurhash?source==null?void 0:source.uri:null,source==null?void 0:source.width,source==null?void 0:source.height);var objectPosition=getObjectPositionFromContentPositionObject(isBlurhash?blurhashContentPosition:contentPosition);var uri=isBlurhash?blurhashUri:source==null?void 0:source.uri;if(!uri)return null;return React.createElement(\"img\",{ref:ref,className:className,src:uri||undefined,key:source==null?void 0:source.uri,style:_objectSpread(_objectSpread({width:'100%',height:'100%',position:'absolute',left:0,right:0,objectPosition:objectPosition},style),isBlurhash?blurhashStyle:{}),fetchpriority:getFetchPriorityFromImagePriority(priority||'normal'),onLoad:function onLoad(event){var _events$onLoad;events==null?void 0:(_events$onLoad=events.onLoad)==null?void 0:_events$onLoad.forEach(function(e){return e==null?void 0:e(event);});},onTransitionEnd:function onTransitionEnd(){var _events$onTransitionE;return events==null?void 0:(_events$onTransitionE=events.onTransitionEnd)==null?void 0:_events$onTransitionE.forEach(function(e){return e==null?void 0:e();});},onError:function onError(){var _events$onError;return events==null?void 0:(_events$onError=events.onError)==null?void 0:_events$onError.forEach(function(e){return e==null?void 0:e({source:source||null});});}});});export default ImageWrapper;","map":{"version":3,"names":["React","useEffect","useBlurhash","isBlurhashString","ensureUnit","value","trimmedValue","String","trim","endsWith","getObjectPositionFromContentPositionObject","contentPosition","resolvedPosition","_objectSpread","top","bottom","left","right","map","key","join","getFetchPriorityFromImagePriority","priority","arguments","length","undefined","includes","ImageWrapper","forwardRef","_ref","ref","source","events","blurhashContentPosition","style","blurhashStyle","className","_events$onMount","onMount","forEach","e","isBlurhash","uri","blurhashUri","width","height","objectPosition","createElement","src","position","fetchpriority","onLoad","event","_events$onLoad","onTransitionEnd","_events$onTransitionE","onError","_events$onError"],"sources":["/Users/mobileappteamdetrix/WorkSpace/PersonalWork/AppProjects/ReactNative/PersonalPortfolioSIte/profile/node_modules/expo-image/src/web/ImageWrapper.tsx"],"sourcesContent":["import React, { CSSProperties, SyntheticEvent, useEffect, Ref } from 'react';\n\nimport {\n  ImageContentPositionObject,\n  ImageContentPositionValue,\n  ImageNativeProps,\n  ImageSource,\n} from '../Image.types';\nimport { useBlurhash } from '../utils/blurhash/useBlurhash';\nimport { isBlurhashString } from '../utils/resolveSources';\n\nfunction ensureUnit(value: string | number) {\n  const trimmedValue = String(value).trim();\n  if (trimmedValue.endsWith('%')) {\n    return trimmedValue;\n  }\n  return `${trimmedValue}px`;\n}\n\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\n\nfunction getObjectPositionFromContentPositionObject(\n  contentPosition?: ImageContentPositionObject\n): string {\n  const resolvedPosition = { ...contentPosition } as Record<\n    KeysOfUnion<ImageContentPositionObject>,\n    ImageContentPositionValue\n  >;\n  if (!resolvedPosition) {\n    return '50% 50%';\n  }\n  if (resolvedPosition.top == null && resolvedPosition.bottom == null) {\n    resolvedPosition.top = '50%';\n  }\n  if (resolvedPosition.left == null && resolvedPosition.right == null) {\n    resolvedPosition.left = '50%';\n  }\n\n  return (\n    ['top', 'bottom', 'left', 'right']\n      .map((key) => {\n        if (key in resolvedPosition) {\n          return `${key} ${ensureUnit(resolvedPosition[key])}`;\n        }\n        return '';\n      })\n      .join(' ') || '50% 50%'\n  );\n}\n\nfunction getFetchPriorityFromImagePriority(priority: ImageNativeProps['priority'] = 'normal') {\n  return priority && ['low', 'high'].includes(priority) ? priority : 'auto';\n}\n\nconst ImageWrapper = React.forwardRef(\n  (\n    {\n      source,\n      events,\n      contentPosition,\n      blurhashContentPosition,\n      priority,\n      style,\n      blurhashStyle,\n      className,\n    }: {\n      source?: ImageSource | null;\n      events?: {\n        onLoad?: (((event: SyntheticEvent<HTMLImageElement, Event>) => void) | undefined | null)[];\n        onError?: ((({ source }: { source: ImageSource | null }) => void) | undefined | null)[];\n        onTransitionEnd?: ((() => void) | undefined | null)[];\n        onMount?: ((() => void) | undefined | null)[];\n      };\n      contentPosition?: ImageContentPositionObject;\n      blurhashContentPosition?: ImageContentPositionObject;\n      priority?: string | null;\n      style: CSSProperties;\n      blurhashStyle?: CSSProperties;\n      className?: string;\n    },\n    ref: Ref<HTMLImageElement>\n  ) => {\n    useEffect(() => {\n      events?.onMount?.forEach((e) => e?.());\n    }, []);\n    const isBlurhash = isBlurhashString(source?.uri || '');\n    const blurhashUri = useBlurhash(isBlurhash ? source?.uri : null, source?.width, source?.height);\n    const objectPosition = getObjectPositionFromContentPositionObject(\n      isBlurhash ? blurhashContentPosition : contentPosition\n    );\n    const uri = isBlurhash ? blurhashUri : source?.uri;\n    if (!uri) return null;\n    return (\n      <img\n        ref={ref}\n        className={className}\n        src={uri || undefined}\n        key={source?.uri}\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          left: 0,\n          right: 0,\n          objectPosition,\n          ...style,\n          ...(isBlurhash ? blurhashStyle : {}),\n        }}\n        // @ts-ignore\n        // eslint-disable-next-line react/no-unknown-property\n        fetchpriority={getFetchPriorityFromImagePriority(priority || 'normal')}\n        onLoad={(event) => {\n          events?.onLoad?.forEach((e) => e?.(event));\n        }}\n        onTransitionEnd={() => events?.onTransitionEnd?.forEach((e) => e?.())}\n        onError={() => events?.onError?.forEach((e) => e?.({ source: source || null }))}\n      />\n    );\n  }\n);\nexport default ImageWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}